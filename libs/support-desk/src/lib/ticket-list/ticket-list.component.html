<nb-card>
  <nb-card-header class="flex justify-between">
    <nb-checkbox
      [checked]="allSelected"
      [indeterminate]="someSelected"
      (checkedChange)="setAll.emit($event)"
    ></nb-checkbox>
    <div *ngIf="!someSelected && !allSelected" class="flex">
      <sd-sort
        [sortByOptions]="sortByOptions"
        [active]="sortBy"
        (update)="sortByUpdate.emit($event)"
        class="mr-2"
      ></sd-sort>
      <button
        nbButton
        status="primary"
        size="small"
        (click)="createTicketClicked()"
      >
        Create
      </button>
    </div>

    <div *ngIf="someSelected || allSelected">
      <button
        nbButton
        size="small"
        status="primary"
        class="mr-2"
        (click)="completeSelected.emit()"
      >
        Close
      </button>
      <button
        nbButton
        status="danger"
        size="small"
        (click)="deleteSelected.emit()"
      >
        <nb-icon icon="trash-2-outline"></nb-icon>
      </button>
    </div>
  </nb-card-header>
  <nb-list-item *ngFor="let ticket of tickets">
    <sd-ticket
      [ticket]="ticket"
      (selectedChange)="selectChanged($event)"
      (editTicket)="editTicket.emit(ticket)"
    ></sd-ticket>
  </nb-list-item>
</nb-card>
